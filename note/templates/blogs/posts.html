<div class="container mt-5">
    {% if not user.is_admin %}
    {%  if is_post_update %}
        <h1 class="py-2 text-center text-secondary border-top border-primary border-bottom">Update Post</h1>
        <form  method="POST" action="">
            <!-- Description -->
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div> 
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea type="text" class="form-control" id="content"   name="content" required></textarea>

            </div> 
            <!-- Submit Button -->
            <button type="submit" class="btn btn-success">Update post</button>
        </form>

    {% else %}
        <h1 class="py-2 text-center text-secondary border-top border-primary border-bottom">Create Post</h1>
        <form  method="POST" action="/posts/create-post">
            <!-- Description -->
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div> 
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea rows="10" class="form-control" id="content"   name="content" required></textarea>
            </div> 
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">Create</button>
        </form>
    {% endif %}
    {% endif %}

    <div class="list-group list-group-flush mt-3">
        <h1 class="py-2 text-center text-secondary border-top border-primary border-bottom">Posts</h1>
        {% if user.is_admin %}
            <ul class="list-group list-group-flush mt-3">
                {% for post in get_all_post %}
                    <article class="card user-select-auto p-1">
                        <li class="list-group-item card-body">
                            <div class="d-flex flex-row border-bottom border-secondary justify-content-between text-decoration-underline">
                                <h4 class="card-title">{{post.title}}</h4>
                                <p class="bg-default rounded text-grey p-1">{{ post.publish_date.strftime('%d %B %Y') }}</p>
                                <span role="contentinfo" class=" btn bg-secondary text-white disabled">{{ post.status.capitalize() }}</span>
                            </div>
                        
                            <p class="card-text py-2">{{ post.content[:300]}} ...</p>
                            <a href="/posts/get-detail-of-post/{{post.post_id}}/see-more" class="btn btn-primary">See more</a>
                            
                            <!-- <select name="status" id="status">
                                <option value="Pending" {% if post.status == 'pending' %} selected="selected" {% endif %}>
                                    <a href="/post/{{post.post_id}}/{{pending}}">Pending</a>
                                </option>
                                <option value="Approved" {% if post.status == 'approved' %} selected="selected" {% endif %}>
                                    <a href="/post/{{post.post_id}}/{{approved}}">Approved</a>
                                </option>
                                <option value="Rejected" {% if post.status == 'rejected' %} selected="selected" {% endif %}>
                                    <a href="/post/{{post.post_id}}/{{rejected}}">Rejected</a>
                                </option>
                            </select> -->

                            <!-- <a href="/post/{{post.id}}/update" class="btn btn-primary">Edit</a>
                            <a href="/post/{{post.id}}/delete" class="btn btn-danger">Delete</a> -->

                        </li>
                    </article>
                {% endfor%}

            </ul>
        {% else %}
            <ul class="list-group list-group-flush mt-3">
                {% for post in user.posts %}
                    <article class="card user-select-auto p-1">
                        <li class="list-group-item card-body">
                            <div class="d-flex flex-row justify-content-between text-decoration-underline">
                                <h4 class="card-title">{{post.title}}</h4>
                                <p class="bg-default rounded text-grey p-1">{{ post.publish_date.strftime('%d %B %Y') }}</p>
                                <mark>{{post.status}}</mark>
                            </div>
                            <p class="card-text">{{ post.content}}</p>
                            <a href="/posts/{{post.post_id}}/update" class="btn btn-primary">Edit</a>
                            <a href="/posts/{{post.post_id}}/delete" class="btn btn-danger">Delete</a>
                        </li>
                    </article>
                {% endfor%}

            </ul>
        {% endif %}
        
    </div> 
</div>